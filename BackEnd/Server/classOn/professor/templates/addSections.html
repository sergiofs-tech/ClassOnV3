{% extends 'layout.html' %}

{% block body %}
      <head>
        <meta charset="UTF-8">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.js"></script>
      </head>

    <h1>Adding section {{ order_in_assigment }} to Assignment</h1>
    <hr class="my-4">

    <div class="row assign-editor">
        {% from "includes/_formhelpers.html" import render_field %}

        <form action="" method="POST">
            <div>
                <div class="form-group">
                    {{render_field(form.name, class_="form-control")}}
                </div>
                <div style="display:none;" class="form-group">
                    {{render_field(form.text, class_="form-control")}}
                </div>
            </div>
            <div id="summernote"></div>
            <script>
              $('#summernote').summernote({
                placeholder: 'Write here your content',
                tabsize: 2,
                height: 200
              });
              function show () {
                var markupStr = $('#summernote').summernote('code');
                document.getElementById("text").value = markupStr;
              }
            </script>
            <div class="container">
                <button type="submit" name="btn" class="btn btn-primary" onclick="show()" value="add">Add section</button>
                <button type="submit" name="btn" class="btn btn-warning" onclick="show()" value="addFinish">Add and finish</button>
                <button type="submit" name="btn" class="btn btn-danger" value="cancel">Discard section and finish</button>
            </div>
        </form>
    </div>
{% endblock %}